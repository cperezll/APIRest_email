<script type="text/javascript">
    let productList = document.createElement("ul")

    $.ajax({
        url: "api/product",
        type: "GET",
        headers: {
            "authorization": `Bearer ${localStorage.token}`
        },
        success: function(data) {
            console.log("> received data:", data);
            data.products.map(product => {
                let text = document.createTextNode(product.name)
                let elem = document.createElement("li")
                elem.appendChild(text)
                productList.appendChild(elem)
            })

            document.body.appendChild(productList)
        },
        error: function(xhr, ajaxOptions, thrownError) {
            console.log("> received data:", xhr.responseJSON);
            console.log("> received data:", xhr);
            console.log("> received data:", ajaxOptions);
            console.log("> received data:", thrownError);
        }
    })


</script>
